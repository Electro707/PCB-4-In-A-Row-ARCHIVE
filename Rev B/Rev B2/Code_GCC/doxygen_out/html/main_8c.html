<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Connect-4 Project: main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Connect-4 Project
   </div>
   <div id="projectbrief">A connect-4 soldering kit&#39;s code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('main_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;avr/io.h&gt;</code><br />
<code>#include &lt;util/delay.h&gt;</code><br />
<code>#include &lt;avr/interrupt.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a43bafb28b29491ec7f871319b5a3b2f8"><td class="memItemLeft" align="right" valign="top"><a id="a43bafb28b29491ec7f871319b5a3b2f8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a43bafb28b29491ec7f871319b5a3b2f8">F_CPU</a>&#160;&#160;&#160;16000000</td></tr>
<tr class="memdesc:a43bafb28b29491ec7f871319b5a3b2f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the CPU frequency to 16Mhz. <br /></td></tr>
<tr class="separator:a43bafb28b29491ec7f871319b5a3b2f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27537db92d0837cc77baa0d99b8cac48"><td class="memItemLeft" align="right" valign="top"><a id="a27537db92d0837cc77baa0d99b8cac48"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a27537db92d0837cc77baa0d99b8cac48">SPI_ENABLE</a>&#160;&#160;&#160;SPCR |= 1&lt;&lt;6</td></tr>
<tr class="memdesc:a27537db92d0837cc77baa0d99b8cac48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to enable the SPI periferal. <br /></td></tr>
<tr class="separator:a27537db92d0837cc77baa0d99b8cac48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00174198073dadbaaad7f9475360b228"><td class="memItemLeft" align="right" valign="top"><a id="a00174198073dadbaaad7f9475360b228"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a00174198073dadbaaad7f9475360b228">SPI_DISABLE</a>&#160;&#160;&#160;SPCR &amp;= ~(1&lt;&lt;6)</td></tr>
<tr class="memdesc:a00174198073dadbaaad7f9475360b228"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to disable the SPI periferal. <br /></td></tr>
<tr class="separator:a00174198073dadbaaad7f9475360b228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09d7eabf7d574ee6b2206bcc50e15ae3"><td class="memItemLeft" align="right" valign="top"><a id="a09d7eabf7d574ee6b2206bcc50e15ae3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a09d7eabf7d574ee6b2206bcc50e15ae3">ENABLE_595_OUTPUT</a>&#160;&#160;&#160;PORTB &amp;= ~(1&lt;&lt;2)</td></tr>
<tr class="memdesc:a09d7eabf7d574ee6b2206bcc50e15ae3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to enable the 74HC595's output. <br /></td></tr>
<tr class="separator:a09d7eabf7d574ee6b2206bcc50e15ae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa74f2838a0fedc57d0a02d1a51bf1608"><td class="memItemLeft" align="right" valign="top"><a id="aa74f2838a0fedc57d0a02d1a51bf1608"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aa74f2838a0fedc57d0a02d1a51bf1608">DISABLE_595_OUTPUT</a>&#160;&#160;&#160;PORTB |= (1&lt;&lt;2)</td></tr>
<tr class="memdesc:aa74f2838a0fedc57d0a02d1a51bf1608"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to disable the 74HC595's output. <br /></td></tr>
<tr class="separator:aa74f2838a0fedc57d0a02d1a51bf1608"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01400fd788be57d6a80a0b76629ea17e"><td class="memItemLeft" align="right" valign="top"><a id="a01400fd788be57d6a80a0b76629ea17e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a01400fd788be57d6a80a0b76629ea17e">SEND_DATA_AND_WAIT</a>(_DATA)&#160;&#160;&#160;SPDR = _DATA; while(!(SPSR &amp; (1&lt;&lt;SPIF)))</td></tr>
<tr class="memdesc:a01400fd788be57d6a80a0b76629ea17e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro send data to the SPI bus,the wait until the periferal is ready for the next data. <br /></td></tr>
<tr class="separator:a01400fd788be57d6a80a0b76629ea17e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a2a48c84fc1598e604a59a6a87aee1f"><td class="memItemLeft" align="right" valign="top"><a id="a7a2a48c84fc1598e604a59a6a87aee1f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a7a2a48c84fc1598e604a59a6a87aee1f">SWITCH_ACTIVE_PLAYER</a>&#160;&#160;&#160;<a class="el" href="main_8c.html#a56f4ac9d8bbe1705b32199a920afac15">active_player</a> = (<a class="el" href="main_8c.html#a56f4ac9d8bbe1705b32199a920afac15">active_player</a> == 1) ? 2 : 1</td></tr>
<tr class="memdesc:a7a2a48c84fc1598e604a59a6a87aee1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro that switches the active player variable to 1 or 2 depending on it's current state. <br /></td></tr>
<tr class="separator:a7a2a48c84fc1598e604a59a6a87aee1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d6abf649425bb56375e4c836ed25054"><td class="memItemLeft" align="right" valign="top"><a id="a6d6abf649425bb56375e4c836ed25054"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a6d6abf649425bb56375e4c836ed25054">PLAYER_COLOR_SELECTOR</a>(_PLAYER)&#160;&#160;&#160;(_PLAYER == 0b01) ? 0b001 : 0b011</td></tr>
<tr class="memdesc:a6d6abf649425bb56375e4c836ed25054"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to get the LED color depending of which player is selected (1 or 2) <br /></td></tr>
<tr class="separator:a6d6abf649425bb56375e4c836ed25054"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5546a654e67c70f34a0cfa21563a1ed9"><td class="memItemLeft" align="right" valign="top"><a id="a5546a654e67c70f34a0cfa21563a1ed9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a5546a654e67c70f34a0cfa21563a1ed9">reset_shift_registers</a> (void)</td></tr>
<tr class="memdesc:a5546a654e67c70f34a0cfa21563a1ed9"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function that resets the shift register thru pin PB4 Because that pin is set to an input no matter what when the SPI periferal is enabled, we must disable it before we're able to control the pin. <br /></td></tr>
<tr class="separator:a5546a654e67c70f34a0cfa21563a1ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a74731f19898a31995de36b0996fed9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a6a74731f19898a31995de36b0996fed9">playerToLed</a> (void)</td></tr>
<tr class="memdesc:a6a74731f19898a31995de36b0996fed9"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function that converts the players array into the led array in order to be outputed.  <a href="main_8c.html#a6a74731f19898a31995de36b0996fed9">More...</a><br /></td></tr>
<tr class="separator:a6a74731f19898a31995de36b0996fed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21533595c9f984c0f8b2fad8bfebce73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a21533595c9f984c0f8b2fad8bfebce73">waitForButtonInput</a> (void)</td></tr>
<tr class="memdesc:a21533595c9f984c0f8b2fad8bfebce73"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function that waits until one of the buttons are pressed (either the column buttons or the generic button).  <a href="main_8c.html#a21533595c9f984c0f8b2fad8bfebce73">More...</a><br /></td></tr>
<tr class="separator:a21533595c9f984c0f8b2fad8bfebce73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef53094729585b11696f4085285777c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aef53094729585b11696f4085285777c8">clearBuffer</a> (uint16_t *c, int array_lenght)</td></tr>
<tr class="memdesc:aef53094729585b11696f4085285777c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function that clears a 16-bit buffer with a given array_lenght.  <a href="main_8c.html#aef53094729585b11696f4085285777c8">More...</a><br /></td></tr>
<tr class="separator:aef53094729585b11696f4085285777c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a369cb173c60ae0d229291bbb6382ec42"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a369cb173c60ae0d229291bbb6382ec42">checkForWinner</a> ()</td></tr>
<tr class="memdesc:a369cb173c60ae0d229291bbb6382ec42"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function to check for a game winner.  <a href="main_8c.html#a369cb173c60ae0d229291bbb6382ec42">More...</a><br /></td></tr>
<tr class="separator:a369cb173c60ae0d229291bbb6382ec42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a297274869b3f9777668657b183519ab0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a297274869b3f9777668657b183519ab0">end_of_game</a> (uint8_t who_won)</td></tr>
<tr class="memdesc:a297274869b3f9777668657b183519ab0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function ends the game by blinking the LED that made the player won, then resets some variables.  <a href="main_8c.html#a297274869b3f9777668657b183519ab0">More...</a><br /></td></tr>
<tr class="separator:a297274869b3f9777668657b183519ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2ebf8132162ebccbc3e865d0d3e2511"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae2ebf8132162ebccbc3e865d0d3e2511">fill_display_led</a> (uint8_t color)</td></tr>
<tr class="memdesc:ae2ebf8132162ebccbc3e865d0d3e2511"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function that fills the entire display with a certain color.  <a href="main_8c.html#ae2ebf8132162ebccbc3e865d0d3e2511">More...</a><br /></td></tr>
<tr class="separator:ae2ebf8132162ebccbc3e865d0d3e2511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top"><a id="a840291bc02cba5474a4cb46a9b9566fe"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main function. <br /></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add2d7cdddfb682dcc0391e60cf42c7d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#add2d7cdddfb682dcc0391e60cf42c7d6">ISR</a> (TIMER0_OVF_vect)</td></tr>
<tr class="memdesc:add2d7cdddfb682dcc0391e60cf42c7d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The LED updater interupt, beign triggered by Timer0.  <a href="main_8c.html#add2d7cdddfb682dcc0391e60cf42c7d6">More...</a><br /></td></tr>
<tr class="separator:add2d7cdddfb682dcc0391e60cf42c7d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad836b931267e8aeaee968e8828b33ca5"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ad836b931267e8aeaee968e8828b33ca5">led</a> [6]</td></tr>
<tr class="memdesc:ad836b931267e8aeaee968e8828b33ca5"><td class="mdescLeft">&#160;</td><td class="mdescRight">An array to store the each LED's color for each row.  <a href="main_8c.html#ad836b931267e8aeaee968e8828b33ca5">More...</a><br /></td></tr>
<tr class="separator:ad836b931267e8aeaee968e8828b33ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeccb1670596f160cce0ab5caec367e05"><td class="memItemLeft" align="right" valign="top"><a id="aeccb1670596f160cce0ab5caec367e05"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aeccb1670596f160cce0ab5caec367e05">current_row</a> = 0</td></tr>
<tr class="memdesc:aeccb1670596f160cce0ab5caec367e05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the current row from 0-5. <br /></td></tr>
<tr class="separator:aeccb1670596f160cce0ab5caec367e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ccb11b7c6a3b542cd236e8df7c6ee5"><td class="memItemLeft" align="right" valign="top"><a id="a80ccb11b7c6a3b542cd236e8df7c6ee5"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a80ccb11b7c6a3b542cd236e8df7c6ee5">current_led</a> = 0</td></tr>
<tr class="memdesc:a80ccb11b7c6a3b542cd236e8df7c6ee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the current output mask 0-2 (See <a class="el" href="main_8c.html#add2d7cdddfb682dcc0391e60cf42c7d6" title="The LED updater interupt, beign triggered by Timer0.">ISR(TIMER0_OVF_vect)</a> for more details) <br /></td></tr>
<tr class="separator:a80ccb11b7c6a3b542cd236e8df7c6ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbd4175b1891e8bd425245f862259f05"><td class="memItemLeft" align="right" valign="top"><a id="acbd4175b1891e8bd425245f862259f05"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#acbd4175b1891e8bd425245f862259f05">status_led_color</a> = 0</td></tr>
<tr class="memdesc:acbd4175b1891e8bd425245f862259f05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the status's LED color. <br /></td></tr>
<tr class="separator:acbd4175b1891e8bd425245f862259f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae1420c4e53f3d75459f20571bb11df9"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aae1420c4e53f3d75459f20571bb11df9">players</a> [6]</td></tr>
<tr class="memdesc:aae1420c4e53f3d75459f20571bb11df9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the player locations's in this array.  <a href="main_8c.html#aae1420c4e53f3d75459f20571bb11df9">More...</a><br /></td></tr>
<tr class="separator:aae1420c4e53f3d75459f20571bb11df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56f4ac9d8bbe1705b32199a920afac15"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a56f4ac9d8bbe1705b32199a920afac15">active_player</a> = 0</td></tr>
<tr class="memdesc:a56f4ac9d8bbe1705b32199a920afac15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the active player.  <a href="main_8c.html#a56f4ac9d8bbe1705b32199a920afac15">More...</a><br /></td></tr>
<tr class="separator:a56f4ac9d8bbe1705b32199a920afac15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62da625c02ec8fdeaa1ed8bc1ed5273e"><td class="memItemLeft" align="right" valign="top"><a id="a62da625c02ec8fdeaa1ed8bc1ed5273e"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a62da625c02ec8fdeaa1ed8bc1ed5273e">winner_location</a> [2][4]</td></tr>
<tr class="memdesc:a62da625c02ec8fdeaa1ed8bc1ed5273e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the row and column of the "chips" that made a player won in order to blink them. <br /></td></tr>
<tr class="separator:a62da625c02ec8fdeaa1ed8bc1ed5273e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8686c2e19ab307e16985a9ba570fe4f7"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a8686c2e19ab307e16985a9ba570fe4f7">mask_test</a> []</td></tr>
<tr class="memdesc:a8686c2e19ab307e16985a9ba570fe4f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A mask variable to mask the leds and status_led_color with red, green, then blue (as only the red, green, or blue LEDs can be on at a time due to the common-cathode).  <a href="main_8c.html#a8686c2e19ab307e16985a9ba570fe4f7">More...</a><br /></td></tr>
<tr class="separator:a8686c2e19ab307e16985a9ba570fe4f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The main program file (The only file) </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a369cb173c60ae0d229291bbb6382ec42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a369cb173c60ae0d229291bbb6382ec42">&#9670;&nbsp;</a></span>checkForWinner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t checkForWinner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function to check for a game winner. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if no player won, 1 for player 1, and 2 for player 2 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Thanks Spencer Hopwood for this function :) </dd></dl>

</div>
</div>
<a id="aef53094729585b11696f4085285777c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef53094729585b11696f4085285777c8">&#9670;&nbsp;</a></span>clearBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearBuffer </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>array_lenght</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function that clears a 16-bit buffer with a given array_lenght. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Turn this into a macro </dd></dl>

</div>
</div>
<a id="a297274869b3f9777668657b183519ab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a297274869b3f9777668657b183519ab0">&#9670;&nbsp;</a></span>end_of_game()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void end_of_game </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>who_won</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function ends the game by blinking the LED that made the player won, then resets some variables. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">who_won</td><td>The player who won the game if anybody won.<br  />
0 For nobody<br  />
1 For player 1<br  />
2 For player 2 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae2ebf8132162ebccbc3e865d0d3e2511"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2ebf8132162ebccbc3e865d0d3e2511">&#9670;&nbsp;</a></span>fill_display_led()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fill_display_led </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function that fills the entire display with a certain color. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color</td><td>The color to turn the display into. Need to be only 3-bits in size </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="add2d7cdddfb682dcc0391e60cf42c7d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add2d7cdddfb682dcc0391e60cf42c7d6">&#9670;&nbsp;</a></span>ISR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR </td>
          <td>(</td>
          <td class="paramtype">TIMER0_OVF_vect&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The LED updater interupt, beign triggered by Timer0. </p>
<p>The LEDs are updated by using the shift registers, only turning on the red, green, then blue LEDs during each row update. </p>

</div>
</div>
<a id="a6a74731f19898a31995de36b0996fed9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a74731f19898a31995de36b0996fed9">&#9670;&nbsp;</a></span>playerToLed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void playerToLed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function that converts the players array into the led array in order to be outputed. </p>
<p>Because I wanted to prevent any flicker effect while the array is beign updated, the interupts (the only one that exists is the LED updater one) are disabled while the led array is beign eidted. </p>

</div>
</div>
<a id="a21533595c9f984c0f8b2fad8bfebce73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21533595c9f984c0f8b2fad8bfebce73">&#9670;&nbsp;</a></span>waitForButtonInput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int waitForButtonInput </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function that waits until one of the buttons are pressed (either the column buttons or the generic button). </p>
<dl class="section return"><dt>Returns</dt><dd>A number 0-6 corresponding to the column button pressed or 7 for the general button </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a56f4ac9d8bbe1705b32199a920afac15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56f4ac9d8bbe1705b32199a920afac15">&#9670;&nbsp;</a></span>active_player</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t active_player = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores the active player. </p>
<p>1 for player 1, 2 for player 2 </p>

</div>
</div>
<a id="ad836b931267e8aeaee968e8828b33ca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad836b931267e8aeaee968e8828b33ca5">&#9670;&nbsp;</a></span>led</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t led[6]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An array to store the each LED's color for each row. </p>
<p>This variable is directly pushed unto the shift registers </p>

</div>
</div>
<a id="a8686c2e19ab307e16985a9ba570fe4f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8686c2e19ab307e16985a9ba570fe4f7">&#9670;&nbsp;</a></span>mask_test</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t mask_test[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    0b001001001001001001001001,</div>
<div class="line">    0b010010010010010010010010,</div>
<div class="line">    0b100100100100100100100100,</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>A mask variable to mask the leds and status_led_color with red, green, then blue (as only the red, green, or blue LEDs can be on at a time due to the common-cathode). </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Option to "reduce brightness" by software reducing duty cycle (maybe add a dummy mask of 0's ?) </dd></dl>

</div>
</div>
<a id="aae1420c4e53f3d75459f20571bb11df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae1420c4e53f3d75459f20571bb11df9">&#9670;&nbsp;</a></span>players</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t players[6]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store the player locations's in this array. </p>
<p>Each dimension of this array is a row, and in each element the columns are in groups of 2 bits.<br  />
For example, 0b001000 for row #0 means that player 2 is on the second column fo row 0. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="main_8c.html">main.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
